#begin INST
  PUIS = 0.
  cboucle = CHAR(SENSOR:'NAME':0)
  prim=BASE : 'PRIMARY'
  DO i 1 NUMBER('WALL',prim)
    wall=prim:'WALL' i
    wallname=wall:'NAME'
    IFTHEN(wallname[1]=='T' AND wallname[3]==cboucle)
      bal=wall: 'THER'
      IF (NUMBER 'phi_wtog' bal == 0) STOP 0.
      PUIS = PUIS + wall : 'THER' 1 : 'phi_wtog' :0
      PUIS = PUIS + wall : 'THER' 1 : 'phi_wtol' :0
      PUIS = PUIS + wall : 'THER' 1 : 'phi_wtoi' :0
    ENDIF
  ENDDO
  PUIS = -1. * PUIS
  PUIS
#end
