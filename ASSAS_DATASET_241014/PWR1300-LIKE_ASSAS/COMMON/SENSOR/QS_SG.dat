#begin INST
   QSG = 0.
   cboucle = CHAR(SENSOR:'NAME':0)
   bal=BASE:'SECONDAR':'JUNCTION' ("CAVST"//cboucle):'THER'
   IF (NUMBER 'q_m_stea' bal == 0) STOP 0.
   con_name=("APGGV"//cboucle)
   conn = BASE : 'CONNECTI' con_name
   IFTHEN(POINTER(conn) <> 0)
      IFTHEN (NUMBER('SOURCE',conn) <> 0)
         q = conn : 'SOURCE' : 'QMAV'
         QSG = QSG - q
      ENDIF
   ENDIF
   q = bal : 'q_m_stea': 0
   QSG = QSG + q
   q = bal : 'q_m_liq': 0
   QSG = QSG + q
   QSG
#end
